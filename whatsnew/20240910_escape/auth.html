<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="./auth.css" />
    <script>
      async function checkPassword() {
        var password = document.getElementById("password").value;
        const encoder = new TextEncoder();
        const data = encoder.encode(password);
        const hash = await crypto.subtle.digest("SHA-256", data);
        const hashArray = Array.from(new Uint8Array(hash));
        const hashHex = hashArray
          .map((b) => b.toString(16).padStart(2, "0"))
          .join("");
        console.log(hashHex);
        if (
          hashHex ===
          "73d3f1ba062585bce51f77d70a26be88c44b55d70f81b8bd7e2ded030ca4454a"
        ) {
          location.href = "./index.html";
        } else if (
          hashHex ===
          "b47141653bad09530cc3523e481ae6479733e4009aeaf27a826f911d8a9a648c"
        ) {
          location.href = "./archive/index.html";
        } else {
          alert("パスワードが違います");
        }
      }
    </script>
    <title>パスワードを入力してください | タキ国:裏サイト</title>
  </head>
  <body>
    <p>しおりの謎を解き、一日目に従って答えよ</p>
    <input type="text" id="password" />
    <button onclick="checkPassword()">Enter</button>
  </body>
</html>
